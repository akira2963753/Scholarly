commit 6584c88576aa44c79dcea81dbb9990d635de4be9
Author: akira2963753 <harry2963753@gmail.com>
Date:   Sat Feb 28 21:27:32 2026 +0800

    feat: add note card icons, remove chevron, add reference star feature
    
    - Selection colour adjusted to 0.07
    - Note cards now show emoji icons (??????); chevron arrow removed
    - References: add starred field to type, star/unstar button per item with
      accent border highlight and optimistic local state update
    
    Co-Authored-By: Claude Sonnet 4.6 <noreply@anthropic.com>

diff --git a/app/src/app/globals.css b/app/src/app/globals.css
index 47f82e1..2d50eba 100644
--- a/app/src/app/globals.css
+++ b/app/src/app/globals.css
@@ -324,7 +324,7 @@ body {
 
 /* SVG text layer selection colour */
 .svg-text-overlay text::selection {
-  background-color: rgba(47, 109, 224, 0.065);
+  background-color: rgba(47, 109, 224, 0.07);
 }
 
 /* Pan mode ??disable text selection, show grab cursor */
diff --git a/app/src/components/workspace/NotesPanel.tsx b/app/src/components/workspace/NotesPanel.tsx
index 789fd57..afea6d5 100644
--- a/app/src/components/workspace/NotesPanel.tsx
+++ b/app/src/components/workspace/NotesPanel.tsx
@@ -4,10 +4,10 @@ import { useEffect, useState, useCallback } from "react";
 import { useWorkspaceStore } from "@/stores/useWorkspaceStore";
 
 const SECTIONS = [
-  { id: "introduction", title: "Introduction / Background" },
-  { id: "contribution", title: "Contribution" },
-  { id: "experiment", title: "Experiment Results" },
-  { id: "summary", title: "Summary" },
+  { id: "introduction", title: "Introduction / Background", icon: "??" },
+  { id: "contribution", title: "Contribution", icon: "?" },
+  { id: "experiment", title: "Experiment Results", icon: "?" },
+  { id: "summary", title: "Summary", icon: "??" },
 ];
 
 function parseNoteToSections(rawText: string) {
@@ -139,27 +139,19 @@ export function NotesPanel() {
                 padding: "12px 16px",
                 display: "flex",
                 alignItems: "center",
-                justifyContent: "space-between",
+                gap: "10px",
                 cursor: "pointer",
                 background: isExpanded ? "var(--surface-2)" : "transparent",
                 borderBottom: isExpanded ? "1px solid var(--border)" : "none",
               }}
             >
-              <div style={{ display: "flex", alignItems: "center", gap: "8px" }}>
-                <span style={{ fontSize: "14px", fontWeight: 600, color: isExpanded ? "var(--accent)" : "var(--text-2)" }}>
-                  {sec.title}
-                </span>
-                {!isExpanded && hasContent && (
-                  <div style={{ width: "6px", height: "6px", borderRadius: "50%", background: "var(--accent)" }} />
-                )}
-              </div>
-
-              <svg
-                width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--text-3)" strokeWidth="2"
-                style={{ transform: isExpanded ? "rotate(180deg)" : "rotate(0deg)", transition: "transform 0.2s" }}
-              >
-                <polyline points="6 9 12 15 18 9"></polyline>
-              </svg>
+              <span style={{ fontSize: "16px", lineHeight: 1, flexShrink: 0 }}>{sec.icon}</span>
+              <span style={{ fontSize: "14px", fontWeight: 600, color: isExpanded ? "var(--accent)" : "var(--text-2)", flex: 1 }}>
+                {sec.title}
+              </span>
+              {!isExpanded && hasContent && (
+                <div style={{ width: "6px", height: "6px", borderRadius: "50%", background: "var(--accent)", flexShrink: 0 }} />
+              )}
             </div>
 
             {/* Subtle content preview when collapsed */}
diff --git a/app/src/components/workspace/ReferencesPanel.tsx b/app/src/components/workspace/ReferencesPanel.tsx
index c61ba78..cd2f45f 100644
--- a/app/src/components/workspace/ReferencesPanel.tsx
+++ b/app/src/components/workspace/ReferencesPanel.tsx
@@ -1,6 +1,6 @@
 "use client";
 
-import { useState } from "react";
+import { useState, useEffect } from "react";
 import Link from "next/link";
 import { useSettingsStore } from "@/stores/useSettingsStore";
 import { useWorkspaceStore } from "@/stores/useWorkspaceStore";
@@ -20,6 +20,19 @@ export function ReferencesPanel({ paper }: Props) {
 
   const references = paper.references as Reference[] | null | undefined;
 
+  // Local state for optimistic star updates
+  const [localRefs, setLocalRefs] = useState<Reference[]>(references ?? []);
+  // Sync when paper.references changes (e.g. after extraction)
+  useEffect(() => { setLocalRefs(references ?? []); }, [references]);
+
+  const toggleStar = async (idx: number) => {
+    const newRefs = localRefs.map((ref, i) =>
+      i === idx ? { ...ref, starred: !ref.starred } : ref
+    );
+    setLocalRefs(newRefs);
+    await updatePaper(paper.id, { references: newRefs } as any);
+  };
+
   // Find a matching paper in the library by title similarity
   const findInLibrary = (ref: Reference) => {
     if (!ref.title || ref.title.length < 10) return null;
@@ -286,7 +299,7 @@ export function ReferencesPanel({ paper }: Props) {
         {/* References list */}
         {!extracting && references && references.length > 0 && (
           <div style={{ display: "flex", flexDirection: "column", gap: "6px" }}>
-            {references.map((ref, i) => {
+            {localRefs.map((ref, i) => {
               const match = findInLibrary(ref);
               return (
                 <div
@@ -295,7 +308,7 @@ export function ReferencesPanel({ paper }: Props) {
                     padding: "10px 12px",
                     borderRadius: "6px",
                     background: "var(--surface)",
-                    border: "1px solid var(--border)",
+                    border: ref.starred ? "1px solid var(--accent)" : "1px solid var(--border)",
                     display: "flex",
                     gap: "10px",
                   }}
@@ -356,6 +369,30 @@ export function ReferencesPanel({ paper }: Props) {
                       )}
                     </div>
                   </div>
+
+                  {/* Star button */}
+                  <button
+                    onClick={() => toggleStar(i)}
+                    title={ref.starred ? "Unstar" : "Mark as important"}
+                    style={{
+                      background: "none",
+                      border: "none",
+                      cursor: "pointer",
+                      padding: "2px",
+                      flexShrink: 0,
+                      alignSelf: "flex-start",
+                      color: ref.starred ? "#f59f00" : "var(--text-3)",
+                      transition: "color 0.15s",
+                    }}
+                  >
+                    <svg width="14" height="14" viewBox="0 0 24 24"
+                      fill={ref.starred ? "currentColor" : "none"}
+                      stroke="currentColor" strokeWidth="2"
+                      strokeLinecap="round" strokeLinejoin="round"
+                    >
+                      <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
+                    </svg>
+                  </button>
                 </div>
               );
             })}
diff --git a/app/src/types/paper.ts b/app/src/types/paper.ts
index 385e072..6ec9b21 100644
--- a/app/src/types/paper.ts
+++ b/app/src/types/paper.ts
@@ -10,6 +10,7 @@ export interface Reference {
   title: string;
   venue: string;
   year: string;
+  starred?: boolean;
 }
 
 export interface Paper {
